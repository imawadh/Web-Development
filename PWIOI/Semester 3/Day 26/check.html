<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
    <script type="text/javascript">
        
        async function loadData(){
            const URL = "https://fake-json-api.mock.beeceptor.com/users";
            try {
                let response = await fetch(URL);
                let data = await response.json();

                
                data.sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()));
                
                let table = document.getElementById("tableContainer");
                table.className="d-block";
                

                data.forEach(element => {
                    
                    document.querySelector("button").style.display = "none";
                    let tr = document.createElement("tr");

                    let tdId = document.createElement("td");
                    let tdName = document.createElement("td");
                    let tdCompany = document.createElement("td");
                    let tdImage = document.createElement("td");

                    tdId.innerHTML = `${element.id}`;
                    tdName.innerHTML = `${element.name}`;
                    tdCompany.innerHTML = `${element.company}`;
                    tdImage.innerHTML = `<img src="${element.photo}" alt="" width="50" height="50">`;


                    tr.appendChild(tdId);
                    tr.appendChild(tdName);
                    tr.appendChild(tdCompany);
                    tr.appendChild(tdImage);

                    document.querySelector("tbody").appendChild(tr);
                    
                });

            } catch (error) {
                console.log("Error Ocuured ::: ",error);
            }
        }
    </script>
</head>
<body>
    
    <button class="btn btn-primary" onclick="loadData()">Load Data</button>
    
    <div class="d-none" id="tableContainer">
        <table class="border border-4 border-dark w-100" >
            <thead >
                <td>Id</td>
                <td>Name</td>
                <td>Company</td>
                <td>Image</td>
            </thead>
            <tbody>

            </tbody>
        </table>
    </div>
    <img src="" alt="">
    <script src="../node_modules/jquery/dist/jquery.js"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
</body>
</html>